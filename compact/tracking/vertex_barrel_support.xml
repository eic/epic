<!-- SPDX-License-Identifier: LGPL-3.0-or-later -->
<!-- Copyright (C) 2022 Sylvester Joosten, Shujie Li -->

<lccdd>
  <comment>
    Tracker support and service materials for IB

  </comment>
  <define>
    <constant name="IB_CF_thickness"           value="0.5*mm" />

    <comment> ------------------------------
                    L0 L1 (sheet 1) 
              ------------------------------</comment>
    <comment> Radius: ring1 is the inner ring (L0), ring2 is the outer ring (L1). 
                      ring1_2 is the disk connecting ring1 and 2 </comment>
    <constant name="L0_ring1_rmin"         value="38.15*mm" />
    <constant name="L0_ring1_rmax"         value="50.30*mm" />
    <constant name="L0_ring1_dr"           value="L0_ring1_rmax-L0_ring1_rmin" />
    <constant name="L0_ring2_rmin"         value="50.55*mm" />
    <constant name="L0_ring2_rmax"         value="62.40*mm" />
    <constant name="L0_ring2_dr"           value="L0_ring2_rmax-L0_ring2_rmin" />

    <comment> all plates have same thickness and length </comment>
    <constant name="L0_plate_thickness"         value=" 3.2*mm" />
    <constant name="L0_plate_zmin"              value="-124.15*mm" />
    <constant name="L0_plate_zmax"              value=" 127.15*mm" />
    <constant name="L0_plate_zcenter"           value="(L0_plate_zmax+L0_plate_zmin)/2" />
    <constant name="L0_plate_length"            value=" L0_plate_zmax-L0_plate_zmin" />
    <constant name="L0_plate_height1"           value=" L0_ring1_dr" />
    <constant name="L0_plate_height2"           value=" L0_ring2_dr" />
    <constant name="L0_plate_vert_off"          value=" 1.5*mm" /> 
    <constant name="L0_plate_vert_center"       value=" L0_plate_vert_off + L0_plate_thickness/2" /> 
    <constant name="L0_plate_horiz_center1"     value=" L0_ring1_rmin + L0_ring1_dr/2" /> 
    <constant name="L0_plate_horiz_center2"     value=" L0_ring2_rmin + L0_ring2_dr/2" /> 
    <constant name="L0_plate_mid_rot"           value=" 90*deg" /> 

    <comment> innner (smaller abs(z)) and outer endcap rings on negative and postive direction </comment>
    <constant name="L0_inner_ring_dz"              value="6.35*mm" /> 
    <constant name="L0_outer_ring_dz"              value="25.4*mm" />
    <constant name="L0_ring_gap_z"                 value="5.5*mm"  />
    <constant name="L0_neg_inner_ring_zcenter"     value="L0_plate_zmin - L0_inner_ring_dz/2." />
    <constant name="L0_neg_outer_ring_zcenter"     value="L0_plate_zmin - L0_inner_ring_dz - L0_ring_gap_z - L0_outer_ring_dz/2." />
    <constant name="L0_pos_inner_ring_zcenter"     value="L0_plate_zmax + L0_inner_ring_dz/2." />
    <constant name="L0_pos_outer_ring_zcenter"     value="L0_plate_zmax + L0_inner_ring_dz + L0_ring_gap_z + L0_outer_ring_dz/2." />

    <comment> ------------------------------
                  L0 L1 (sheet 3) 
            ------------------------------</comment>
    <comment> L0 and L1 air tubes on the positive end (approx as disk), sheet 3 </comment>
    <constant name="L0L1_cooling_tube_dz"         value="25.2*mm" />
    <constant name="L0L1_cooling_tube_zmin"       value="171.5*mm" />
    <constant name="L0L1_cooling_tube_zmax"       value="L0L1_cooling_tube_zmin + L0L1_cooling_tube_dz" />
    <constant name="L0L1_cooling_tube_zcenter"    value="(L0L1_cooling_tube_zmin + L0L1_cooling_tube_zmax)/2" />
    <constant name="L0_cooling_tube_rmax"       value="45*mm" />
    <constant name="L0_cooling_tube_rmin"       value="42*mm" />
    <constant name="L0_cooling_tube_rcenter"    value="(L0_cooling_tube_rmax+L0_cooling_tube_rmin)/2" />
    <constant name="L0_cooling_tube_dr"         value="L0_cooling_tube_rmax-L0_cooling_tube_rmin" />
    <constant name="L1_cooling_tube_rmax"       value="56.75*mm" />
    <constant name="L1_cooling_tube_rmin"       value="53.25*mm" />
    <constant name="L1_cooling_tube_rcenter"    value="(L1_cooling_tube_rmax+L1_cooling_tube_rmin)/2" />
    <constant name="L1_cooling_tube_dr"         value="L1_cooling_tube_rmax-L1_cooling_tube_rmin" />
    <constant name="L0L1_cooling_tube_vert_off"    value="3*mm" />
    <constant name="L0L1_cooling_tube_phi_off"     value="L0L1_cooling_tube_vert_off/L0_cooling_tube_rmin" />

    <comment> ------------------------------
                    L1 (sheet 2) 
              ------------------------------</comment>
    <comment> ring1 (smaller r) and 2. ring1_2 is the disk connecting two rings </comment>
    <constant name="L1_ring_dr"             value="IB_CF_thickness" />
    <constant name="L1_ring1_rmin"          value="62.5*mm" />
    <constant name="L1_ring1_rmax"          value="L1_ring1_rmin+L1_ring_dr" />
    <constant name="L1_ring2_rmin"          value="83.5*mm" />
    <constant name="L1_ring2_rmax"          value="L1_ring2_rmin+L1_ring_dr" />
    <constant name="L1_ring1_2_rmin"        value="L1_ring1_rmax" />
    <constant name="L1_ring1_2_rmax"        value="L1_ring2_rmax" />
    <constant name="L1_ring1_2_dr"          value="L1_ring1_2_rmax - L1_ring1_2_rmin" />

    <constant name="L1_neg_ring1_dz"        value="45*mm" />
    <constant name="L1_neg_ring1_zmax"      value="-124*mm" />
    <constant name="L1_neg_ring1_zmin"      value="L1_neg_ring1_zmax-L1_neg_ring1_dz" />
    <constant name="L1_neg_ring1_zcenter"   value="(L1_neg_ring1_zmin + L1_neg_ring1_zmax)/2" />
    <constant name="L1_neg_ring2_dz"        value="5.5*mm" />
    <constant name="L1_neg_ring2_zmax"      value="L1_neg_ring1_zmin" />
    <constant name="L1_neg_ring2_zmin"      value="L1_neg_ring2_zmax-L1_neg_ring2_dz" />
    <constant name="L1_neg_ring2_zcenter"   value="(L1_neg_ring2_zmin + L1_neg_ring2_zmax)/2" />
    <constant name="L1_neg_ring1_2_dz"      value="L1_ring_dr" />
    <constant name="L1_neg_ring1_2_zmin"    value="L1_neg_ring1_zmin" />
    <constant name="L1_neg_ring1_2_zmax"    value="L1_neg_ring1_zmin+L1_neg_ring1_2_dz" />
    <constant name="L1_neg_ring1_2_zcenter" value="(L1_neg_ring1_2_zmin + L1_neg_ring1_2_zmax)/2" />

    <constant name="L1_pos_ring1_dz"        value="57*mm" />
    <constant name="L1_pos_ring2_dz"        value="5.5*mm" />
    <constant name="L1_pos_ring1_zmin"      value="127*mm" />
    <constant name="L1_pos_ring1_zmax"      value="L1_pos_ring1_zmin + L1_pos_ring1_dz" />
    <constant name="L1_pos_ring1_zcenter"   value="(L1_pos_ring1_zmin + L1_pos_ring1_zmax)/2" />
    <constant name="L1_pos_ring2_zmin"      value="L1_pos_ring1_zmax" />
    <constant name="L1_pos_ring2_zmax"      value="L1_pos_ring2_zmin + L1_pos_ring2_dz" />
    <constant name="L1_pos_ring2_zcenter"   value="(L1_pos_ring2_zmin + L1_pos_ring2_zmax)/2" />
    <constant name="L1_pos_ring1_2_dz"      value="L1_ring_dr" />
    <constant name="L1_pos_ring1_2_zmax"    value="L1_pos_ring1_zmax" />
    <constant name="L1_pos_ring1_2_zmin"    value="L1_pos_ring1_zmax - L1_pos_ring1_2_dz" />
    <constant name="L1_pos_ring1_2_zcenter" value="(L1_pos_ring1_2_zmin + L1_pos_ring1_2_zmax)/2" />

    <constant name="L1_plate_thickness"          value=" IB_CF_thickness" />
    <constant name="L1_plate1_2_zmin"            value=" L1_neg_ring1_2_zmax" />
    <constant name="L1_plate1_2_zmax"            value=" L1_pos_ring1_2_zmin" />
    <constant name="L1_plate1_2_zcenter"         value="(L1_plate1_2_zmax+L1_plate1_2_zmin)/2" />
    <constant name="L1_plate1_2_length"          value=" L1_plate1_2_zmax-L1_plate1_2_zmin" />
    <constant name="L1_plate1_2_dr"              value=" L1_ring2_rmax - L1_ring1_rmax" />
    <constant name="L1_plate1_2_vert_off"        value=" 0.5*mm" /> 
    <constant name="L1_plate1_2_vert_center"     value=" L1_plate1_2_vert_off + L1_plate_thickness/2" /> 
    <constant name="L1_plate1_2_rcenter"         value=" (L1_ring1_rmax + L1_ring2_rmax)/2" /> 
    <constant name="L1_plate1_2_mid_angle"       value=" 7.3*deg" /> 

    <constant name="L1_plate1_zmin"              value=" L1_neg_ring1_zmax" />
    <constant name="L1_plate1_zmax"              value=" L1_pos_ring1_zmin" />
    <constant name="L1_plate1_zcenter"           value="(L1_plate1_zmax+L1_plate1_zmin)/2" />
    <constant name="L1_plate1_length"            value=" L1_plate1_zmax-L1_plate1_zmin" />
    <constant name="L1_plate1_dr"                value=" L1_plate_thickness" />
    <constant name="L1_plate1_rmin"              value=" L1_ring1_rmin" /> 
    <constant name="L1_plate1_dl"                value=" 5.2*mm" /> 
    <constant name="L1_plate1_side_dphi"         value=" L1_plate1_dl/L1_plate1_rmin" /> 
    <constant name="L1_plate1_side_phi0"         value=" (L1_plate1_2_vert_off)/L1_plate1_rmin" /> 
    <constant name="L1_plate1_mid_dphi"          value=" L1_plate1_2_mid_angle" /> 

    <constant name="L1_plate2_zmin"              value=" L1_neg_ring2_zmax" />
    <constant name="L1_plate2_zmax"              value=" L1_pos_ring2_zmin" />
    <constant name="L1_plate2_zcenter"           value="(L1_plate2_zmax+L1_plate2_zmin)/2" />
    <constant name="L1_plate2_length"            value=" L1_plate2_zmax-L1_plate2_zmin" />
    <constant name="L1_plate2_dr"                value=" L1_plate_thickness" />
    <constant name="L1_plate2_rmin"              value=" L1_ring2_rmin" /> 
    <constant name="L1_plate2_dl"                value=" 7*mm - L1_plate_thickness" /> 
    <constant name="L1_plate2_dphi"              value=" (L1_plate2_dl-L1_plate_thickness)/L1_plate2_rmin" /> 
    <constant name="L1_plate2_phi0"              value=" (L1_plate1_2_vert_off+L1_plate_thickness)/L1_plate2_rmin" /> 

    <constant name="L1_cooling_ring1_dz"           value="12.5*mm" />
    <constant name="L1_cooling_ring1_zmin"         value="172.5*mm" />
    <constant name="L1_cooling_ring1_zmax"         value="L1_cooling_ring1_zmin + L1_cooling_ring1_dz" />
    <constant name="L1_cooling_ring1_zcenter"      value="(L1_cooling_ring1_zmin + L1_cooling_ring1_zmax)/2" />
    <constant name="L1_cooling_ring1_rmax"         value="124.8*mm/2" />
    <constant name="L1_cooling_ring1_rmin"         value="61.4*mm" />
    <constant name="L1_cooling_ring1_dr"           value="L1_cooling_ring1_rmax-L1_cooling_ring1_rmin" />

    <constant name="L1_cooling_ring1_2_dz"         value="1*mm" />
    <constant name="L1_cooling_ring1_2_zmin"       value="185*mm" />
    <constant name="L1_cooling_ring1_2_zmax"       value="L1_cooling_ring1_2_zmin + L1_cooling_ring1_2_dz" />
    <constant name="L1_cooling_ring1_2_zcenter"    value="(L1_cooling_ring1_2_zmin + L1_cooling_ring1_2_zmax)/2" />
    <constant name="L1_cooling_ring1_2_rmax"       value="71.4*mm" />
    <constant name="L1_cooling_ring1_2_rmin"       value="L1_cooling_ring1_rmin" />
    <constant name="L1_cooling_ring1_2_dr"         value="L1_cooling_ring1_2_rmax-L1_cooling_ring1_2_rmin" />

    <constant name="L1_cooling_pad_thickness"    value="2*mm" />
    <constant name="L1_cooling_pad_zmin"         value=" 172.5*mm" />
    <constant name="L1_cooling_pad_length"       value=" 23.5*mm" />
    <constant name="L1_cooling_pad_zmax"         value=" L1_cooling_pad_zmin + L1_cooling_pad_length" />
    <constant name="L1_cooling_pad_zcenter"      value="(L1_cooling_pad_zmin + L1_cooling_pad_zmax)/2" />
    <constant name="L1_cooling_pad_rmax"         value=" L1_cooling_ring1_rmin - 0.5*mm" />
    <constant name="L1_cooling_pad_rmin"         value=" 39.4*mm" />
    <constant name="L1_cooling_pad_dr"           value=" L1_cooling_pad_rmax - L1_cooling_pad_rmin" />
    <constant name="L1_cooling_pad_vert_off"     value=" 0.5*mm" /> 
    <constant name="L1_cooling_pad_vert_center"  value=" L1_cooling_pad_vert_off + L1_cooling_pad_thickness/2" /> 
    <constant name="L1_cooling_pad_rcenter"      value=" (L1_cooling_pad_rmin + L1_cooling_pad_rmax)/2" /> 

    <comment> ------------------------------
                    Frame (sheet 4) 
              ------------------------------</comment>


    <constant name="IB_frame_rmax"   value='258*mm'/>
    <constant name="IB_frame_zmax"   value='232*mm'/>
    <constant name="L1_cone_leg1_phi0"     value=" -22.5*deg" />
    <constant name="L1_cone_leg2_phi0"     value=" L1_cone_leg1_phi0-45*deg" />
    <constant name="L1_cone_leg3_phi0"     value=" L1_cone_leg2_phi0-45*deg" />
    <constant name="L1_cone_leg4_phi0"     value=" L1_cone_leg3_phi0-45*deg" />
    <constant name="L1_cone_leg5_phi0"     value=" L1_cone_leg1_phi0+45*deg" />
    <constant name="L1_cone_leg6_phi0"     value=" L1_cone_leg5_phi0+45*deg" />
    <constant name="L1_cone_leg7_phi0"     value=" L1_cone_leg6_phi0+45*deg" />
    <constant name="L1_cone_leg8_phi0"     value=" L1_cone_leg7_phi0+45*deg" />

    <comment>   L1PosCone    </comment>
    <constant name="L1_pos_cone_thickness"    value=" IB_CF_thickness" />
    <constant name="L1_pos_cone_r1"           value=" 70*mm"/>         
    <constant name="L1_pos_cone_r2"           value=" 115.4*mm"/>         
    <constant name="L1_pos_cone_r3"           value=" 176.7*mm"/>         
    <constant name="L1_pos_cone_r4"           value=" IB_frame_rmax"/>         
    <constant name="L1_pos_cone_z1"           value=" 178*mm" />
    <constant name="L1_pos_cone_z2"           value=" 192*mm" />
    <constant name="L1_pos_cone_z3"           value=" 208*mm" />
    <constant name="L1_pos_cone_z4"           value=" IB_frame_zmax" />
    <constant name="L1_pos_cone_vert_off"     value=" 10*mm" />
    <constant name="L1_pos_cone_leg_width"    value=" 21.7*mm" />
    <constant name="L1_pos_cone_leg_rcenter"  value="(L1_pos_cone_r4+L1_pos_cone_r3)/2+L1_pos_cone_thickness" />
    <constant name="L1_pos_cone_leg_dr"       value=" L1_pos_cone_r4-L1_pos_cone_r3" />
    <constant name="L1_pos_cone_leg_dz"       value=" L1_pos_cone_z4-L1_pos_cone_z3" />
    <constant name="L1_pos_cone_leg_zcenter"  value="(L1_pos_cone_z4+L1_pos_cone_z3)/2" />
    <constant name="L1_pos_cone_leg_theta"    value=" -asin(L1_pos_cone_leg_dz/L1_pos_cone_leg_dr)" />
    <constant name="L1_pos_cone_leg_length"   value=" sqrt(L1_pos_cone_leg_dr*L1_pos_cone_leg_dr+L1_pos_cone_leg_dz*L1_pos_cone_leg_dz)" />

    <comment>   L1NegCone    </comment>  
    <constant name="L1_neg_cone_thickness"    value=" IB_CF_thickness" />
    <constant name="L1_neg_cone_ring_rmin"    value=" 67*mm"/>         
    <constant name="L1_neg_cone_ring_rmax"    value=" 86.4*mm"/>         
    <constant name="L1_neg_cone_ring_zmin"    value=" L1_neg_ring1_2_zmax" />
    <constant name="L1_neg_cone_ring_zmax"    value=" L1_neg_cone_ring_zmin+L1_neg_cone_thickness" />
    <constant name="L1_neg_cone_ring_zcenter" value=" (L1_neg_cone_ring_zmax+L1_neg_cone_ring_zmin)/2" />
    <constant name="L1_neg_cone_ring_dphi"     value=" 17.5*deg" />

    <constant name="L1_neg_cone_leg_rmin"     value=" L1_neg_cone_ring_rmax"/>         
    <constant name="L1_neg_cone_leg_rmax"     value=" IB_frame_rmax"/>       
    <constant name="L1_neg_cone_leg_dr"       value=" L1_neg_cone_leg_rmax-L1_neg_cone_leg_rmin"/>       
    <constant name="L1_neg_cone_leg_rcenter"  value=" (L1_neg_cone_leg_rmax+L1_neg_cone_leg_rmin)/2"/>       
    <constant name="L1_neg_cone_leg_zmax"     value=" L1_neg_cone_ring_zmin" />
    <constant name="L1_neg_cone_leg_zmin"     value=" -IB_frame_zmax" />
    <constant name="L1_neg_cone_leg_dz"       value=" L1_neg_cone_leg_zmax-L1_neg_cone_leg_zmin" />
    <constant name="L1_neg_cone_leg_zcenter"  value=" (L1_neg_cone_leg_zmax+L1_neg_cone_leg_zmin)/2" />
    <constant name="L1_neg_cone_leg_width"    value=" 14*mm" />
    <constant name="L1_neg_cone_leg_theta"    value=" asin(L1_neg_cone_leg_dz/L1_neg_cone_leg_dr)" />
    <constant name="L1_neg_cone_leg_length"   value=" sqrt(L1_neg_cone_leg_dr*L1_neg_cone_leg_dr+L1_neg_cone_leg_dz*L1_neg_cone_leg_dz)" />


    <comment>   L2PosFlange  </comment>    
    <comment>   L2NegFlange  </comment>    


  </define>

  <detectors>

    <comment> 
    -------------------------------L1---------------------------------------------  
    </comment>
    <detector type="epic_SupportServiceMaterial"
      name="SVT_IB_Support_L1"
      id="SVT_IB_Support_1_ID"
    >

    <comment>negative cone (sheet 4) </comment>

    <!-- Ring 1 -->
    <support type="Disk"
            name="L1NegConeRing1"
            vis="SVTSupportVis"
            rmin="L1_neg_cone_ring_rmin"
            rmax="L1_neg_cone_ring_rmax"
            thickness="L1_neg_cone_thickness"
            phimin="L1_cone_leg1_phi0-L1_neg_cone_ring_dphi"
            phimax="L1_cone_leg1_phi0+L1_neg_cone_ring_dphi">
      <position x="0*cm" y="0*cm" z="L1_neg_cone_ring_zcenter" />
      <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
    </support>

    <!-- Ring 2 -->
    <support type="Disk"
            name="L1NegConeRing2"
            vis="SVTSupportVis"
            rmin="L1_neg_cone_ring_rmin"
            rmax="L1_neg_cone_ring_rmax"
            thickness="L1_neg_cone_thickness"
            phimin="L1_cone_leg2_phi0-L1_neg_cone_ring_dphi"
            phimax="L1_cone_leg2_phi0+L1_neg_cone_ring_dphi">
      <position x="0*cm" y="0*cm" z="L1_neg_cone_ring_zcenter" />
      <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
    </support>

    <!-- Ring 3 -->
    <support type="Disk"
            name="L1NegConeRing3"
            vis="SVTSupportVis"
            rmin="L1_neg_cone_ring_rmin"
            rmax="L1_neg_cone_ring_rmax"
            thickness="L1_neg_cone_thickness"
            phimin="L1_cone_leg3_phi0-L1_neg_cone_ring_dphi"
            phimax="L1_cone_leg3_phi0+L1_neg_cone_ring_dphi">
      <position x="0*cm" y="0*cm" z="L1_neg_cone_ring_zcenter" />
      <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
    </support>

    <!-- Ring 4 -->
    <support type="Disk"
            name="L1NegConeRing4"
            vis="SVTSupportVis"
            rmin="L1_neg_cone_ring_rmin"
            rmax="L1_neg_cone_ring_rmax"
            thickness="L1_neg_cone_thickness"
            phimin="L1_cone_leg4_phi0-L1_neg_cone_ring_dphi"
            phimax="L1_cone_leg4_phi0+L1_neg_cone_ring_dphi">
      <position x="0*cm" y="0*cm" z="L1_neg_cone_ring_zcenter" />
      <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
    </support>

    <!-- Ring 5 -->
    <support type="Disk"
            name="L1NegConeRing5"
            vis="SVTSupportVis"
            rmin="L1_neg_cone_ring_rmin"
            rmax="L1_neg_cone_ring_rmax"
            thickness="L1_neg_cone_thickness"
            phimin="L1_cone_leg5_phi0-L1_neg_cone_ring_dphi"
            phimax="L1_cone_leg5_phi0+L1_neg_cone_ring_dphi">
      <position x="0*cm" y="0*cm" z="L1_neg_cone_ring_zcenter" />
      <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
    </support>

    <!-- Ring 6 -->
    <support type="Disk"
            name="L1NegConeRing6"
            vis="SVTSupportVis"
            rmin="L1_neg_cone_ring_rmin"
            rmax="L1_neg_cone_ring_rmax"
            thickness="L1_neg_cone_thickness"
            phimin="L1_cone_leg6_phi0-L1_neg_cone_ring_dphi"
            phimax="L1_cone_leg6_phi0+L1_neg_cone_ring_dphi">
      <position x="0*cm" y="0*cm" z="L1_neg_cone_ring_zcenter" />
      <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
    </support>

    <!-- Ring 7 -->
    <support type="Disk"
            name="L1NegConeRing7"
            vis="SVTSupportVis"
            rmin="L1_neg_cone_ring_rmin"
            rmax="L1_neg_cone_ring_rmax"
            thickness="L1_neg_cone_thickness"
            phimin="L1_cone_leg7_phi0-L1_neg_cone_ring_dphi"
            phimax="L1_cone_leg7_phi0+L1_neg_cone_ring_dphi">
      <position x="0*cm" y="0*cm" z="L1_neg_cone_ring_zcenter" />
      <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
    </support>

    <!-- Ring 8 -->
    <support type="Disk"
            name="L1NegConeRing8"
            vis="SVTSupportVis"
            rmin="L1_neg_cone_ring_rmin"
            rmax="L1_neg_cone_ring_rmax"
            thickness="L1_neg_cone_thickness"
            phimin="L1_cone_leg8_phi0-L1_neg_cone_ring_dphi"
            phimax="L1_cone_leg8_phi0+L1_neg_cone_ring_dphi">
      <position x="0*cm" y="0*cm" z="L1_neg_cone_ring_zcenter" />
      <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
    </support>

      <!-- Leg 1 -->
      <support type="Box"
              name="L1NegConeLeg1"
              vis="SVTSupportVis"
              x="L1_neg_cone_leg_length"
              y="L1_neg_cone_leg_width"
              z="L1_neg_cone_thickness"
              phi0="L1_cone_leg1_phi0">
        <position y="0" x="L1_neg_cone_leg_rcenter" z="L1_neg_cone_leg_zcenter" />
        <rotation y="L1_neg_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 2 -->
      <support type="Box"
              name="L1NegConeLeg2"
              vis="SVTSupportVis"
              x="L1_neg_cone_leg_length"
              y="L1_neg_cone_leg_width"
              z="L1_neg_cone_thickness"
              phi0="L1_cone_leg2_phi0">
        <position y="0" x="L1_neg_cone_leg_rcenter" z="L1_neg_cone_leg_zcenter" />
        <rotation y="L1_neg_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 3 -->
      <support type="Box"
              name="L1NegConeLeg3"
              vis="SVTSupportVis"
              x="L1_neg_cone_leg_length"
              y="L1_neg_cone_leg_width"
              z="L1_neg_cone_thickness"
              phi0="L1_cone_leg3_phi0">
        <position y="0" x="L1_neg_cone_leg_rcenter" z="L1_neg_cone_leg_zcenter" />
        <rotation y="L1_neg_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 4 -->
      <support type="Box"
              name="L1NegConeLeg4"
              vis="SVTSupportVis"
              x="L1_neg_cone_leg_length"
              y="L1_neg_cone_leg_width"
              z="L1_neg_cone_thickness"
              phi0="L1_cone_leg4_phi0">
        <position y="0" x="L1_neg_cone_leg_rcenter" z="L1_neg_cone_leg_zcenter" />
        <rotation y="L1_neg_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 5 -->
      <support type="Box"
              name="L1NegConeLeg5"
              vis="SVTSupportVis"
              x="L1_neg_cone_leg_length"
              y="L1_neg_cone_leg_width"
              z="L1_neg_cone_thickness"
              phi0="L1_cone_leg5_phi0">
        <position y="0" x="L1_neg_cone_leg_rcenter" z="L1_neg_cone_leg_zcenter" />
        <rotation y="L1_neg_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 6 -->
      <support type="Box"
              name="L1NegConeLeg6"
              vis="SVTSupportVis"
              x="L1_neg_cone_leg_length"
              y="L1_neg_cone_leg_width"
              z="L1_neg_cone_thickness"
              phi0="L1_cone_leg6_phi0">
        <position y="0" x="L1_neg_cone_leg_rcenter" z="L1_neg_cone_leg_zcenter" />
        <rotation y="L1_neg_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 7 -->
      <support type="Box"
              name="L1NegConeLeg7"
              vis="SVTSupportVis"
              x="L1_neg_cone_leg_length"
              y="L1_neg_cone_leg_width"
              z="L1_neg_cone_thickness"
              phi0="L1_cone_leg7_phi0">
        <position y="0" x="L1_neg_cone_leg_rcenter" z="L1_neg_cone_leg_zcenter" />
        <rotation y="L1_neg_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 8 -->
      <support type="Box"
              name="L1NegConeLeg8"
              vis="SVTSupportVis"
              x="L1_neg_cone_leg_length"
              y="L1_neg_cone_leg_width"
              z="L1_neg_cone_thickness"
              phi0="L1_cone_leg8_phi0">
        <position y="0" x="L1_neg_cone_leg_rcenter" z="L1_neg_cone_leg_zcenter" />
        <rotation y="L1_neg_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_neg_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>


    <comment>positive cone (sheet 4) </comment>
    <subtraction name="L1PosCone" material="CarbonFiber" vis="SVTSupportVis">
        <position x="0" y="0" z="(L1_pos_cone_z3+L1_pos_cone_z1)/2"/>
        
        <shape1 type="Cone" name="L1PosCone_main"
                rmin1="L1_pos_cone_r1"
                rmin2="L1_pos_cone_r3"
                length="L1_pos_cone_z3-L1_pos_cone_z1"
                thickness="L1_pos_cone_thickness"
                material="CarbonFiber"/>
        
        <shape2 type="Box" name="L1PosCone_cutout"
                x="L1_pos_cone_r2*2" 
                y="L1_pos_cone_vert_off*2" 
                z="L1_pos_cone_z2"  
                material="Air">
        </shape2>
      </subtraction>


      <!-- Leg 1 -->
      <support type="Box"
              name="L1PosConeLeg1"
              vis="SVTSupportVis"
              x="L1_pos_cone_leg_length"
              y="L1_pos_cone_leg_width"
              z="L1_pos_cone_thickness"
              phi0="L1_cone_leg1_phi0">
        <position y="0" x="L1_pos_cone_leg_rcenter" z="L1_pos_cone_leg_zcenter" />
        <rotation y="L1_pos_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_pos_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 2 -->
      <support type="Box"
              name="L1PosConeLeg2"
              vis="SVTSupportVis"
              x="L1_pos_cone_leg_length"
              y="L1_pos_cone_leg_width"
              z="L1_pos_cone_thickness"
              phi0="L1_cone_leg2_phi0">
        <position y="0" x="L1_pos_cone_leg_rcenter" z="L1_pos_cone_leg_zcenter" />
        <rotation y="L1_pos_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_pos_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 3 -->
      <support type="Box"
              name="L1PosConeLeg3"
              vis="SVTSupportVis"
              x="L1_pos_cone_leg_length"
              y="L1_pos_cone_leg_width"
              z="L1_pos_cone_thickness"
              phi0="L1_cone_leg3_phi0">
        <position y="0" x="L1_pos_cone_leg_rcenter" z="L1_pos_cone_leg_zcenter" />
        <rotation y="L1_pos_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_pos_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 4 -->
      <support type="Box"
              name="L1PosConeLeg4"
              vis="SVTSupportVis"
              x="L1_pos_cone_leg_length"
              y="L1_pos_cone_leg_width"
              z="L1_pos_cone_thickness"
              phi0="L1_cone_leg4_phi0">
        <position y="0" x="L1_pos_cone_leg_rcenter" z="L1_pos_cone_leg_zcenter" />
        <rotation y="L1_pos_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_pos_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 5 -->
      <support type="Box"
              name="L1PosConeLeg5"
              vis="SVTSupportVis"
              x="L1_pos_cone_leg_length"
              y="L1_pos_cone_leg_width"
              z="L1_pos_cone_thickness"
              phi0="L1_cone_leg5_phi0">
        <position y="0" x="L1_pos_cone_leg_rcenter" z="L1_pos_cone_leg_zcenter" />
        <rotation y="L1_pos_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_pos_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 6 -->
      <support type="Box"
              name="L1PosConeLeg6"
              vis="SVTSupportVis"
              x="L1_pos_cone_leg_length"
              y="L1_pos_cone_leg_width"
              z="L1_pos_cone_thickness"
              phi0="L1_cone_leg6_phi0">
        <position y="0" x="L1_pos_cone_leg_rcenter" z="L1_pos_cone_leg_zcenter" />
        <rotation y="L1_pos_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_pos_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 7 -->
      <support type="Box"
              name="L1PosConeLeg7"
              vis="SVTSupportVis"
              x="L1_pos_cone_leg_length"
              y="L1_pos_cone_leg_width"
              z="L1_pos_cone_thickness"
              phi0="L1_cone_leg7_phi0">
        <position y="0" x="L1_pos_cone_leg_rcenter" z="L1_pos_cone_leg_zcenter" />
        <rotation y="L1_pos_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_pos_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <!-- Leg 8 -->
      <support type="Box"
              name="L1PosConeLeg8"
              vis="SVTSupportVis"
              x="L1_pos_cone_leg_length"
              y="L1_pos_cone_leg_width"
              z="L1_pos_cone_thickness"
              phi0="L1_cone_leg8_phi0">
        <position y="0" x="L1_pos_cone_leg_rcenter" z="L1_pos_cone_leg_zcenter" />
        <rotation y="L1_pos_cone_leg_theta" />
        <component material="CarbonFiber" thickness="L1_pos_cone_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <comment>-----------------------------sheet 2---------------</comment>
      <comment> air cooling support</comment>
      <support type="Disk"
        name="L1CoolingRing1_2"
        vis="SVTSupportVis"
        rmin="L1_cooling_ring1_2_rmin"
        rmax="L1_cooling_ring1_2_rmax"
        thickness="L1_cooling_ring1_2_dz">
          <position x="0*cm" y="0*cm" z="L1_cooling_ring1_2_zcenter" />
          <component material="CarbonFiber" thickness="L1_cooling_ring1_2_dz" name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Disk"
        name="L1CoolingRing1"
        vis="SVTSupportVis"
        rmin="L1_cooling_ring1_rmin"
        rmax="L1_cooling_ring1_rmax"
        thickness="L1_cooling_ring1_dz">
          <position x="0*cm" y="0*cm" z="L1_cooling_ring1_zcenter" />
          <component material="CarbonFiber" thickness="L1_cooling_ring1_dz" name="Support" vis="SVTSupportVis"/>
      </support>

      <support type="Box"
      name="L1CoolingPadLeft"
      vis="SVTSupportVis"
      x="L1_cooling_pad_dr"
      y="L1_cooling_pad_thickness"
      z="L1_cooling_pad_length"
      >
        <position y="-L1_cooling_pad_vert_center" x="-L1_cooling_pad_rcenter" z="L1_cooling_pad_zcenter" />
        <component material="CarbonFiber" thickness="L1_cooling_pad_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>

      <support type="Box"
      name="L1CoolingPadRight"
      vis="SVTSupportVis"
      x="L1_cooling_pad_dr"
      y="L1_cooling_pad_thickness"
      z="L1_cooling_pad_length"
      >
        <position y="-L1_cooling_pad_vert_center" x="L1_cooling_pad_rcenter" z="L1_cooling_pad_zcenter" />
        <component material="CarbonFiber" thickness="L1_cooling_pad_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>

      <support type="Box"
      name="L1CoolingPadLeft"
      vis="SVTSupportVis"
      x="L1_cooling_pad_dr"
      y="L1_cooling_pad_thickness"
      z="L1_cooling_pad_length"
      >
        <position y="L1_cooling_pad_vert_center" x="-L1_cooling_pad_rcenter" z="L1_cooling_pad_zcenter" />
        <component material="CarbonFiber" thickness="L1_cooling_pad_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>

      <support type="Box"
      name="L1CoolingPadRight"
      vis="SVTSupportVis"
      x="L1_cooling_pad_dr"
      y="L1_cooling_pad_thickness"
      z="L1_cooling_pad_length"
      >
        <position y="L1_cooling_pad_vert_center" x="L1_cooling_pad_rcenter" z="L1_cooling_pad_zcenter" />
        <component material="CarbonFiber" thickness="L1_cooling_pad_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>

      <comment> plate2</comment>
      <support type="Tube"
        name="L1Plate2Left"
        vis="SVTSupportVis"
        thickness="L1_plate_thickness"
        length="L1_plate2_length"
        rmin="L1_plate2_rmin"
        phimin="-L1_plate2_dphi-L1_plate2_phi0"
        phimax="-L1_plate2_phi0"
        >
          <position y="0" x="0" z="L1_plate2_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>
      <support type="Tube"
        name="L1Plate2Right"
        vis="SVTSupportVis"
        thickness="L1_plate_thickness"
        length="L1_plate2_length"
        rmin="L1_plate2_rmin"
        phimin="180*deg+L1_plate2_phi0"
        phimax="180*deg+L1_plate2_phi0+L1_plate2_dphi"
        >
          <position y="0" x="0" z="L1_plate2_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

      <support type="Tube"
        name="L1Plate2Left"
        vis="SVTSupportVis"
        thickness="L1_plate_thickness"
        length="L1_plate2_length"
        rmin="L1_plate2_rmin"
        phimin="L1_plate2_phi0"
        phimax="L1_plate2_dphi+L1_plate2_phi0"
        >
          <position y="0" x="0" z="L1_plate2_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>
      <support type="Tube"
        name="L1Plate2Right"
        vis="SVTSupportVis"
        thickness="L1_plate_thickness"
        length="L1_plate2_length"
        rmin="L1_plate2_rmin"
        phimin="180*deg-L1_plate2_phi0-L1_plate2_dphi"
        phimax="180*deg-L1_plate2_phi0"
        >
          <position y="0" x="0" z="L1_plate2_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

      <comment> plate1 (lower)</comment>
        <support type="Tube"
        name="L1Plate1Middle"
        vis="SVTSupportVis"
        thickness="L1_plate_thickness"
        length="L1_plate1_length"
        rmin="L1_plate1_rmin"
        phimin="-90*deg-L1_plate1_mid_dphi/2"
        phimax="-90*deg+L1_plate1_mid_dphi/2"
        >
          <position y="0" x="0" z="L1_plate1_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

        <support type="Tube"
        name="L1Plate1Left"
        vis="SVTSupportVis"
        thickness="L1_plate_thickness"
        length="L1_plate1_length"
        rmin="L1_plate1_rmin"
        phimin="-L1_plate1_side_dphi-L1_plate1_side_phi0"
        phimax="-L1_plate1_side_phi0"
        >
          <position y="0" x="0" z="L1_plate1_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>
        <support type="Tube"
        name="L1Plate1Right"
        vis="SVTSupportVis"
        thickness="L1_plate_thickness"
        length="L1_plate1_length"
        rmin="L1_plate1_rmin"
        phimin="180*deg+L1_plate1_side_phi0"
        phimax="180*deg+L1_plate1_side_phi0+L1_plate1_side_dphi"
        >
          <position y="0" x="0" z="L1_plate1_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

        <comment> plate1 (upper)</comment>
        <support type="Tube"
        name="L1Plate1Middle"
        vis="SVTSupportVis"
        thickness="L1_plate_thickness"
        length="L1_plate1_length"
        rmin="L1_plate1_rmin"
        phimin="90*deg-L1_plate1_mid_dphi/2"
        phimax="90*deg+L1_plate1_mid_dphi/2"
        >
          <position y="0" x="0" z="L1_plate1_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

        <support type="Tube"
        name="L1Plate1Left"
        vis="SVTSupportVis"
        thickness="L1_plate_thickness"
        length="L1_plate1_length"
        rmin="L1_plate1_rmin"
        phimin="0"
        phimax="L1_plate1_side_dphi"
        >
          <position y="0" x="0" z="L1_plate1_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>
        <support type="Tube"
        name="L1Plate1Right"
        vis="SVTSupportVis"
        thickness="L1_plate_thickness"
        length="L1_plate1_length"
        rmin="L1_plate1_rmin"
        phimin="180*deg-L1_plate1_side_dphi"
        phimax="180*deg"
        >
          <position y="0" x="0" z="L1_plate1_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

        <comment> plate 1_2 (lower)</comment>
        <support type="Box"
        name="L1Plate1_2Left"
        vis="SVTSupportVis"
        x="L1_plate1_2_dr"
        y="L1_plate_thickness"
        z="L1_plate1_2_length"
        >
          <position y="-L1_plate1_2_vert_center" x="L1_plate1_2_rcenter" z="L1_plate1_2_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

        <support type="Box"
        name="L1Plate1_2Right"
        vis="SVTSupportVis"
        x="L1_plate1_2_dr"
        y="L1_plate_thickness"
        z="L1_plate1_2_length"
        >
          <position y="-L1_plate1_2_vert_center" x="-L1_plate1_2_rcenter" z="L1_plate1_2_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

        <support type="Box"
        name="L1Plate1_2MidLeft"
        vis="SVTSupportVis"
        x="L1_plate1_2_dr"
        y="L1_plate_thickness"
        z="L1_plate1_2_length"
        phi0="-(90*deg - L1_plate1_2_mid_angle/2)"
        >
          <position y="0" x="L1_plate1_2_rcenter" z="L1_plate1_2_zcenter" />
          <rotation z="-(90*deg + L1_plate1_2_mid_angle/2)" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>
        <support type="Box"
        name="L1Plate1_2MidRight"
        vis="SVTSupportVis"
        x="L1_plate1_2_dr"
        y="L1_plate_thickness"
        z="L1_plate1_2_length"
        phi0="-(90*deg + L1_plate1_2_mid_angle/2)"
        >
          <position y="0" x="L1_plate1_2_rcenter" z="L1_plate1_2_zcenter" />
          <rotation z="-(90*deg - L1_plate1_2_mid_angle/2)" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

       <comment> plate 1_2 (upper)</comment>
        <support type="Box"
        name="L1Plate1_2Left"
        vis="SVTSupportVis"
        x="L1_plate1_2_dr"
        y="L1_plate_thickness"
        z="L1_plate1_2_length"
        >
          <position y="L1_plate1_2_vert_center" x="L1_plate1_2_rcenter" z="L1_plate1_2_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

        <support type="Box"
        name="L1Plate1_2Right"
        vis="SVTSupportVis"
        x="L1_plate1_2_dr"
        y="L1_plate_thickness"
        z="L1_plate1_2_length"
        >
          <position y="L1_plate1_2_vert_center" x="-L1_plate1_2_rcenter" z="L1_plate1_2_zcenter" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

        <support type="Box"
        name="L1Plate1_2MidLeft"
        vis="SVTSupportVis"
        x="L1_plate1_2_dr"
        y="L1_plate_thickness"
        z="L1_plate1_2_length"
        phi0="(90*deg - L1_plate1_2_mid_angle/2)"
        >
          <position y="0" x="L1_plate1_2_rcenter" z="L1_plate1_2_zcenter" />
          <rotation z="(90*deg + L1_plate1_2_mid_angle/2)" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>
        <support type="Box"
        name="L1Plate1_2MidRight"
        vis="SVTSupportVis"
        x="L1_plate1_2_dr"
        y="L1_plate_thickness"
        z="L1_plate1_2_length"
        phi0="(90*deg + L1_plate1_2_mid_angle/2)"
        >
          <position y="0" x="L1_plate1_2_rcenter" z="L1_plate1_2_zcenter" />
          <rotation z="(90*deg - L1_plate1_2_mid_angle/2)" />
          <component material="CarbonFiber" thickness="L1_plate_thickness"   name="Support" vis="SVTSupportVis"/>
        </support>

       <comment> Forward (positive) rings </comment>
      <support type="Disk"
        name="L1PosRing1"
        vis="SVTSupportVis"
        rmin="L1_ring1_rmin"
        rmax="L1_ring1_rmax"
        thickness="L1_pos_ring1_dz">
          <position x="0*cm" y="0*cm" z="L1_pos_ring1_zcenter" />
          <component material="CarbonFiber" thickness="L1_pos_ring1_dz" name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Disk"
        name="L1PosRing2"
        vis="SVTSupportVis"
        rmin="L1_ring2_rmin"
        rmax="L1_ring2_rmax"
        thickness="L1_pos_ring2_dz">
          <position x="0*cm" y="0*cm" z="L1_pos_ring2_zcenter" />
          <component material="CarbonFiber" thickness="L1_pos_ring2_dz" name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Disk"
        name="L1PosRing1_2"
        vis="SVTSupportVis"
        rmin="L1_ring1_2_rmin"
        rmax="L1_ring1_2_rmax"
        thickness="L1_pos_ring1_2_dz">
          <position x="0*cm" y="0*cm" z="L1_pos_ring1_2_zcenter" />
          <component material="CarbonFiber" thickness="L1_pos_ring1_2_dz" name="Support" vis="SVTSupportVis"/>
      </support>  
      
      <comment> Backward (negative) rings </comment>
      <support type="Disk"
        name="L1NegRing1"
        vis="SVTSupportVis"
        rmin="L1_ring1_rmin"
        rmax="L1_ring1_rmax"
        thickness="L1_neg_ring1_dz">
          <position x="0*cm" y="0*cm" z="L1_neg_ring1_zcenter" />
          <component material="CarbonFiber" thickness="L1_neg_ring1_dz" name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Disk"
        name="L1NegRing2"
        vis="SVTSupportVis"
        rmin="L1_ring2_rmin"
        rmax="L1_ring2_rmax"
        thickness="L1_neg_ring2_dz">
          <position x="0*cm" y="0*cm" z="L1_neg_ring2_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L1_neg_ring2_dz" name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Disk"
        name="L1NegRing1_2"
        vis="SVTSupportVis"
        rmin="L1_ring1_2_rmin"
        rmax="L1_ring1_2_rmax"
        thickness="L1_neg_ring1_2_dz">
          <position x="0*cm" y="0*cm" z="L1_neg_ring1_2_zcenter" />
          <component material="CarbonFiber" thickness="L1_neg_ring1_2_dz" name="Support" vis="SVTSupportVis"/>
      </support>  
          
    </detector>
  
    <comment> 
    -------------------------------L0 and L1 (sheet1 and sheet 3)---------------------------------  
    </comment>


    <detector type="epic_SupportServiceMaterial"
      name="SVT_IB_Support_L0_L1"
      id="SVT_IB_Support_0_ID"
    >
      <comment> air cooling tubes on sheet 3</comment>
      <subtraction name="L1CoolingTube" material="PEEK" vis="AnlOrange">
        <position x="0" y="0" z="L0L1_cooling_tube_zcenter"/>
        
        <shape1 type="Tube" name="cooling_tube_main"
                rmin="L1_cooling_tube_rmin" 
                thickness="L1_cooling_tube_dr" 
                length="L0L1_cooling_tube_dz" 
                material="PEEK"/>
        
        <shape2 type="Box" name="cooling_tube_cutout"
                x="L1_cooling_tube_rmax*2" 
                y="L0L1_cooling_tube_vert_off*2" 
                z="L0L1_cooling_tube_dz"  
                material="Air">
          <!-- This position is relative to the tube's center, not absolute -->
          <position x="0" y="0" z="0"/>
        </shape2>
      </subtraction>

      <subtraction name="L0CoolingTube" material="PEEK" vis="AnlOrange">
        <position x="0" y="0" z="L0L1_cooling_tube_zcenter"/>
        
        <shape1 type="Tube" name="cooling_tube_main"
                rmin="L0_cooling_tube_rmin" 
                thickness="L0_cooling_tube_dr" 
                length="L0L1_cooling_tube_dz" 
                material="PEEK"/>
        
        <!-- Shape to subtract: position is RELATIVE to shape1's center -->
        <shape2 type="Box" name="cooling_tube_cutout"
                x="L0_cooling_tube_rmax*2" 
                y="L0L1_cooling_tube_vert_off*2" 
                z="L0L1_cooling_tube_dz"  
                material="Air">
          <!-- This position is relative to the tube's center, not absolute -->
          <position x="0" y="0" z="0"/>
        </shape2>
      </subtraction>

      <comment> Forward (positive) rings </comment>
      <support type="Disk"
        name="L0PosInnerRing"
        vis="SVTSupportVis"
        rmin="L0_ring1_rmin"
        rmax="L0_ring1_rmax"
        thickness="L0_inner_ring_dz">
          <position x="0*cm" y="0*cm" z="L0_pos_inner_ring_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_inner_ring_dz" name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Disk"
        name="L1PosInnerRing"
        vis="SVTSupportVis"
        rmin="L0_ring2_rmin"
        rmax="L0_ring2_rmax"
        thickness="L0_inner_ring_dz">
          <position x="0*cm" y="0*cm" z="L0_pos_inner_ring_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_inner_ring_dz" name="Support" vis="SVTSupportVis"/>
      </support>

      <support type="Disk"
        name="L0PosOuterRing"
        vis="SVTSupportVis"
        rmin="L0_ring1_rmin"
        rmax="L0_ring1_rmax"
        thickness="L0_outer_ring_dz">
          <position x="0*cm" y="0*cm" z="L0_pos_outer_ring_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_outer_ring_dz" name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Disk"
        name="L1PosOuterRing"
        vis="SVTSupportVis"
        rmin="L0_ring2_rmin"
        rmax="L0_ring2_rmax"
        thickness="L0_outer_ring_dz">
          <position x="0*cm" y="0*cm" z="L0_pos_outer_ring_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_outer_ring_dz" name="Support" vis="SVTSupportVis"/>
      </support>

      <comment> Backward (negative) rings </comment>
      <support type="Disk"
        name="L0NegInnerRing"
        vis="SVTSupportVis"
        rmin="L0_ring1_rmin"
        rmax="L0_ring1_rmax"
        thickness="L0_inner_ring_dz">
          <position x="0*cm" y="0*cm" z="L0_neg_inner_ring_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_inner_ring_dz" name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Disk"
        name="L1NegInnerRing"
        vis="SVTSupportVis"
        rmin="L0_ring2_rmin"
        rmax="L0_ring2_rmax"
        thickness="L0_inner_ring_dz">
          <position x="0*cm" y="0*cm" z="L0_neg_inner_ring_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_inner_ring_dz" name="Support" vis="SVTSupportVis"/>
      </support>

      <support type="Disk"
        name="L0NegOuterRing"
        vis="SVTSupportVis"
        rmin="L0_ring1_rmin"
        rmax="L0_ring1_rmax"
        thickness="L0_outer_ring_dz">
          <position x="0*cm" y="0*cm" z="L0_neg_outer_ring_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_outer_ring_dz" name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Disk"
        name="L1NegOuterRing"
        vis="SVTSupportVis"
        rmin="L0_ring2_rmin"
        rmax="L0_ring2_rmax"
        thickness="L0_outer_ring_dz">
          <position x="0*cm" y="0*cm" z="L0_neg_outer_ring_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_outer_ring_dz" name="Support" vis="SVTSupportVis"/>
      </support>

      <comment> plates (lower left)</comment>
      <support type="Box"
        name="L0PlateLowerLeft"
        vis="SVTSupportVis"
        x="L0_plate_height1"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position x="L0_plate_horiz_center1" y="-L0_plate_vert_center" z="L0_plate_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Box"
        name="L1PlateLowerLeft"
        vis="SVTSupportVis"
        x="L0_plate_height2"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position x="L0_plate_horiz_center2" y="-L0_plate_vert_center" z="L0_plate_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <comment> plates (lower right)</comment>
      <support type="Box"
        name="L0PlateLowerRight"
        vis="SVTSupportVis"
        x="L0_plate_height1"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position x="-L0_plate_horiz_center1" y="-L0_plate_vert_center" z="L0_plate_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Box"
        name="L1PlateLowerRight"
        vis="SVTSupportVis"
        x="L0_plate_height2"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position x="-L0_plate_horiz_center2" y="-L0_plate_vert_center" z="L0_plate_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <comment> plates (lower middle)</comment>
      <support type="Box"
        name="L0PlateLowerMiddle"
        vis="SVTSupportVis"
        x="L0_plate_height1"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position y="-L0_plate_horiz_center1" x="0" z="L0_plate_zcenter" />
          <rotation z="L0_plate_mid_rot" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Box"
        name="L1PlateLowerMiddle"
        vis="SVTSupportVis"
        x="L0_plate_height2"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position y="-L0_plate_horiz_center2" x="0" z="L0_plate_zcenter" />
          <rotation z="L0_plate_mid_rot" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>

      <comment> plates (upper left)</comment>
      <support type="Box"
        name="L0PlateUpperLeft"
        vis="SVTSupportVis"
        x="L0_plate_height1"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position x="L0_plate_horiz_center1" y="L0_plate_vert_center" z="L0_plate_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Box"
        name="L1PlateUpperLeft"
        vis="SVTSupportVis"
        x="L0_plate_height2"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position x="L0_plate_horiz_center2" y="L0_plate_vert_center" z="L0_plate_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <comment> plates (upper right)</comment>
      <support type="Box"
        name="L0PlateUpperRight"
        vis="SVTSupportVis"
        x="L0_plate_height1"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position x="-L0_plate_horiz_center1" y="L0_plate_vert_center" z="L0_plate_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Box"
        name="L1PlateUpperRight"
        vis="SVTSupportVis"
        x="L0_plate_height2"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position x="-L0_plate_horiz_center2" y="L0_plate_vert_center" z="L0_plate_zcenter" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness" name="Support" vis="SVTSupportVis"/>
      </support>

      <comment> plates (Upper middle)</comment>
      <support type="Box"
        name="L0PlateUpperMiddle"
        vis="SVTSupportVis"
        x="L0_plate_height1"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position y="L0_plate_horiz_center1" x="0" z="L0_plate_zcenter" />
          <rotation z="L0_plate_mid_rot" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>
      <support type="Box"
        name="L1PlateUpperMiddle"
        vis="SVTSupportVis"
        x="L0_plate_height2"
        y="L0_plate_thickness"
        z="L0_plate_length">
          <position y="L0_plate_horiz_center2" x="0" z="L0_plate_zcenter" />
          <rotation z="L0_plate_mid_rot" />
          <component material="CarbonFoam_LowDensity" thickness="L0_plate_thickness"   name="Support" vis="SVTSupportVis"/>
      </support>
    </detector>
  </detectors>
</lccdd>
