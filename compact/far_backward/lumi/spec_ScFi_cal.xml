<!-- SPDX-License-Identifier: LGPL-3.0-or-later -->
<!-- Copyright (C) 2022 Aranya Giri -->

<lccdd>
        <!--
        Note : Values/Notations for making modules pointing along z-axis.
               Rotation of modules wrt XY axis after construction.          -->
	<define>
		<constant name="LumiSpecCAL_ModSizeX"            value="LumiSpecCAL_SiPMNumX*LumiSpecCAL_SiPMSizeXY"/>
    		<constant name="LumiSpecCAL_ModSizeY"            value="LumiSpecCAL_SiPMNumY*LumiSpecCAL_SiPMSizeXY"/>
    		<constant name="LumiSpecCAL_ModSizeZ"            value="LumiSpecCAL_SizeXY"/>
    		<constant name="LumiSpecCAL_FiberRadius"            value="0.25*mm"/>
    		<constant name="LumiSpecCAL_FiberSpaceX"            value="0.25*mm"/>
    		<constant name="LumiSpecCAL_FiberSpaceY"            value="0.25*mm"/>
	</define>

        <materials>
        <material name="BrassAlloy360">
                <D type="density" unit="g/cm3" value="8.49"/>
                <fraction n="0.6045" ref="Cu"/>
                <fraction n="0.3550" ref="Zn"/>
                <fraction n="0.0370" ref="Pb"/>
                <fraction n="0.0035" ref="Fe"/>
        </material>
        <material name="WPowderplusEpoxy">
                <D type="density" unit="g/cm3" value="10.95"/>
                <fraction n="0.97" ref="Tungsten"/>
                <fraction n="0.03" ref="Epoxy"/>
        </material>
        </materials>

        <display>
                <vis    name="LumiSpecCAL_ModuleVis"            ref="AnlGold"   alpha="0.5"     visible="true" showDaughters="true"/>
                <vis    name="LumiSpecCAL_FiberVis"             ref="AnlRed"    aplha="0.8"     visible="true"/>
                <vis    name="LumiSpecCAL_FiberHolderVis"       ref="AnlBlue"   alpha="1.0"     visible="true"/>
        </display>

        <detectors>
                <detector id="LumiSpecCAL_ID" name="LumiSpecCAL" type="EcalLumiSpecWScFi" vis="FFPreVis" readout="EcalLumiSpecHits" sizeXY="LumiSpecCAL_SizeXY" sizeZ="LumiSpecCAL_SizeZ" >
                        <module sizex="LumiSpecCAL_ModSizeX" sizey="LumiSpecCAL_ModSizeY" sizez="LumiSpecCAL_ModSizeZ" nmod_perlayer="LumiSpecCAL_XYLayers" nlayer="LumiSpecCAL_ZLayers" material="WPowderplusEpoxy" vis="LumiSpecCAL_ModuleVis">
                                <fiber material="Polystyrene"
                                        radius="LumiSpecCAL_FiberRadius"
                                        spacex="LumiSpecCAL_FiberSpaceX"
                                        spacey="LumiSpecCAL_FiberSpaceY"
                                        vis="LumiSpecCAL_FiberVis"/>
                                <fiberholder material="BrassAlloy360" vis="LumiSpecCAL_FiberHolderVis"/>
                        </module>
                        <sector id="0">
                                <position x="0.0*cm" y="LumiSpecCAL_PosY" z="LumiSpecCAL_PosZ"/>
                                <rotation x="0.0*rad" y="0.0*rad" z="0.0*rad"/>
                        </sector>
                        <sector id="1">
                                <position x="0.0*cm" y="-1*LumiSpecCAL_PosY" z="LumiSpecCAL_PosZ"/>
                                <rotation x="0.0*rad" y="0.0*rad" z="0.0*rad"/>
                        </sector>
                </detector>
        </detectors>

        <readouts>
                <readout name="EcalLumiSpecHits">
                        <segmentation type="NoSegmentation"/>
                        <id>system:8,sector:4,module:8,fiber_x:16,fiber_y:16</id>
                </readout>
        </readouts>

</lccdd>
