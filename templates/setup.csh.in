#!/bin/tcsh

setenv DETECTOR @PROJECT_NAME@
setenv DETECTOR_PATH @CMAKE_INSTALL_PREFIX@/share/@PROJECT_NAME@
setenv DETECTOR_CONFIG @PROJECT_NAME@
setenv DETECTOR_VERSION @GIT_BRANCH@

## note: we will phase out the JUGGLER_* flavor of variables in the future
setenv JUGGLER_DETECTOR $DETECTOR
setenv JUGGLER_DETECTOR_CONFIG $DETECTOR_CONFIG
setenv JUGGLER_DETECTOR_VERSION $DETECTOR_VERSION
setenv JUGGLER_DETECTOR_PATH $DETECTOR_PATH

## setenv detector libraries (FIXME: incorrect when LD_LIBRARY_PATH empty)
setenv LD_LIBRARY_PATH @CMAKE_INSTALL_PREFIX@/lib:${LD_LIBRARY_PATH}

## Source beamline setup
test -r $DETECTOR_PATH/ip6/setup.csh && source $DETECTOR_PATH/ip6/setup.csh || echo "Warning: ip6 not loaded!"
